{{ define "main" }}

    {{ $cfg := ($.Site.Data.list) }}

    <div class="section py-3 py-md-5">
      <div class="container">

          {{ (partial "breadcrumb" .) }}

        <div class="row row-cols-1 row-cols-lg-{{ ($cfg.cols) }} g-3">
            {{ range (.Paginator.Pages) }}
              <div class="col">
                <article class="node-{{ (.Type) }} d-flex">
                    {{ if (.Param "cover.image.url") }}
                      <div class="flex-shrink-0 me-3 d-none d-md-block">
                        <div class="node-cover">
                            {{ $width := 160 }}{{ $height := 160 }}
                            {{ $crop := ((.Param "cover.image.crop") | default "entropy") }}
                            {{ $fit := ((.Param "cover.image.fit") | default "crop") }}
                            {{ $src := (.Param "cover.image.url") }}
                          <a class="d-block" href="{{ (.RelPermalink) }}">
                            <img class="d-block rounded"
                                 src="{{ ($src) }}?crop={{ ($crop) }}&amp;w={{ ($width) }}&amp;h={{ ($height) }}&amp;fit={{ ($fit) }}&amp;auto=format"
                                 width="{{ ($width) }}" height="{{ ($height) }}"
                                 alt="" loading="lazy"/>
                          </a>
                        </div>
                      </div>
                    {{ end }}
                  <div class="flex-grow-1">
                    <header>
                      <div class="node-title">
                        <h4 class="h5"><a href="{{ (.RelPermalink) }}">{{ (.Title) }}</a></h4>
                      </div>
                    </header>
                    <div class="node-body">{{ (.Render "summary") }}</div>
                  </div>
                </article>
              </div>
            {{ end }}
        </div>

          {{ (partial "pagination" .) }}

      </div>
    </div>

{{ end }}
